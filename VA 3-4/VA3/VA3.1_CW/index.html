<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VA3.1_CW</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>
    <header class="container py-2">
        <h1>Travel Bucket List</h1>
    </header>
    <section class="container py-2">
        <div class="input-group mb-3">
            <label for="destinationInput"></label>
            <input type="text" class="form-control" id="destinationInput">
            <button id="addDestionation" class="btn btn-primary">Add</button>
        </div>
        <ul id="bucketList"></ul>
        <div><p id="vistedCount"></p></div>
    </section>

    <script>
        const destinationInput = document.getElementById("destinationInput");
        const addDestionationBtn = document.getElementById("addDestionation");
        const unorderedList = document.getElementById("bucketList");
        let vistedPlacesCount = 0;
        const vistedCount = document.getElementById("vistedCount");

        addDestionationBtn.addEventListener("click", function() {
            const listElement = document.createElement("li");

            listElement.innerHTML = `<p><input class="mx-2" type="checkbox" id="destinationVisitedCheckbox" onChange="countVisitedPlaces(this)">${destinationInput.value} <button class="btn btn-danger btn-sm mx-5" onClick="deleteDestination(this)">Delete</button></p>`

            unorderedList.appendChild(listElement);
        })

        function countVisitedPlaces(checkbox) {
            if (checkbox.checked) {
                vistedPlacesCount++;
            } else {
                vistedPlacesCount--;
            }
            updateCountView();
        }

        function deleteDestination(deleteBtn) {
            const listItem = deleteBtn.parentElement.parentElement;
            if (listItem.childNodes[0].childNodes[0].checked) {
                vistedPlacesCount--;
                updateCountView()            
            }
            listItem.remove();
        }

        function updateCountView() {
            vistedCount.textContent = `Visited Place Count: ${vistedPlacesCount}`
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>